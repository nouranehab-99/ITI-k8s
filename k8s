Initialising Kubernetes... done

controlplane:~$ kubectl get nodes
NAME           STATUS   ROLES           AGE     VERSION
controlplane   Ready    control-plane   3h32m   v1.33.2
controlplane:~$ kubectl run redis --image=redis
pod/redis created
controlplane:~$ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
redis   1/1     Running   0          11s
controlplane:~$ nano nginx-pod.yaml
controlplane:~$ kubectl apply -f nginx-pod.yaml
pod/nginx created
controlplane:~$ kubectl get pods
NAME    READY   STATUS             RESTARTS   AGE
nginx   0/1     ImagePullBackOff   0          17s
redis   1/1     Running            0          71s
controlplane:~$ kubectl delete pod nginx
pod "nginx" deleted
controlplane:~$ nano nginx-pod.yaml
controlplane:~$ kubectl apply -f nginx-pod.yaml
pod/nginx created
controlplane:~$ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
nginx   1/1     Running   0          11s
redis   1/1     Running   0          2m46s
controlplane:~$ kubectl get rs
No resources found in default namespace.
controlplane:~$ nano rs.yaml
controlplane:~$ kubectl apply -f rs.yaml
\replicaset.apps/replica-set-1 created
controlplane:~$ \kubectl get pods
NAME                  READY   STATUS    RESTARTS   AGE
nginx                 1/1     Running   0          81s
redis                 1/1     Running   0          3m56s
replica-set-1-bhnbx   1/1     Running   0          12s
replica-set-1-smjz2   1/1     Running   0          12s
replica-set-1-wqfmf   1/1     Running   0          12s
controlplane:~$ kubectl scale rs replica-set-1 --replicas=5
replicaset.apps/replica-set-1 scaled
controlplane:~$ kubectl get pods
NAME                  READY   STATUS    RESTARTS   AGE
nginx                 1/1     Running   0          2m15s
redis                 1/1     Running   0          4m50s
replica-set-1-bhnbx   1/1     Running   0          66s
replica-set-1-lwvcv   1/1     Running   0          21s
replica-set-1-s5ftc   1/1     Running   0          21s
replica-set-1-smjz2   1/1     Running   0          66s
replica-set-1-wqfmf   1/1     Running   0          66s
controlplane:~$ kubectl delete podreplica-set-1-bhnbx 
error: the server doesn't have a resource type "podreplica-set-1-bhnbx"
controlplane:~$ kubectl delete pod replica-set-1-bhnbx
pod "replica-set-1-bhnbx" deleted

controlplane:~$ kubectl get pods
NAME                  READY   STATUS    RESTARTS   AGE
nginx                 1/1     Running   0          3m58s
redis                 1/1     Running   0          6m33s
replica-set-1-lwvcv   1/1     Running   0          2m4s
replica-set-1-s5ftc   1/1     Running   0          2m4s
replica-set-1-smjz2   1/1     Running   0          2m49s
replica-set-1-w29jb   1/1     Running   0          30s
replica-set-1-wqfmf   1/1     Running   0          2m49s
controlplane:~$ 
controlplane:~$ kubectl get deployments
kubectl get rs
No resources found in default namespace.
NAME            DESIRED   CURRENT   READY   AGE
replica-set-1   5         5         5       3m15s
controlplane:~$ nano deployment.yaml
controlplane:~$ kubectl apply -f deployment.yaml
deployment.apps/deployment-1 created
controlplane:~$ kubectl get pods
NAME                            READY   STATUS    RESTARTS   AGE
deployment-1-5c684d4858-5zhr5   1/1     Running   0          13s
deployment-1-5c684d4858-dnmvs   1/1     Running   0          13s
deployment-1-5c684d4858-z6tg8   1/1     Running   0          13s
nginx                           1/1     Running   0          5m21s
redis                           1/1     Running   0          7m56s
replica-set-1-lwvcv             1/1     Running   0          3m27s
replica-set-1-s5ftc             1/1     Running   0          3m27s
replica-set-1-smjz2             1/1     Running   0          4m12s
replica-set-1-w29jb             1/1     Running   0          113s
replica-set-1-wqfmf             1/1     Running   0          4m12s
controlplane:~$ kubectl get deployments
kubectl get rs
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
deployment-1   3/3     3            3           115s
NAME                      DESIRED   CURRENT   READY   AGE
deployment-1-5c684d4858   3         3         3       115s
replica-set-1             5         5         5       5m54s
controlplane:~$ kubectl get pods
NAME                            READY   STATUS    RESTARTS   AGE
deployment-1-5c684d4858-5zhr5   1/1     Running   0          2m19s
deployment-1-5c684d4858-dnmvs   1/1     Running   0          2m19s
deployment-1-5c684d4858-z6tg8   1/1     Running   0          2m19s
nginx                           1/1     Running   0          7m27s
redis                           1/1     Running   0          10m
replica-set-1-lwvcv             1/1     Running   0          5m33s
replica-set-1-s5ftc             1/1     Running   0          5m33s
replica-set-1-smjz2             1/1     Running   0          6m18s
replica-set-1-w29jb             1/1     Running   0          3m59s
replica-set-1-wqfmf             1/1     Running   0          6m18s
controlplane:~$ kubectl set image deployment/deployment-1 busybox=nginx
kubectl rollout status deployment deployment-1
kubectl get pods
deployment.apps/deployment-1 image updated
Waiting for deployment spec update to be observed...
Waiting for deployment "deployment-1" rollout to finish: 0 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 1 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 1 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 1 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 2 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 2 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 2 out of 3 new replicas have been updated...
Waiting for deployment "deployment-1" rollout to finish: 1 old replicas are pending termination...
Waiting for deployment "deployment-1" rollout to finish: 1 old replicas are pending termination...
deployment "deployment-1" successfully rolled out
NAME                            READY   STATUS        RESTARTS   AGE
deployment-1-5c684d4858-5zhr5   1/1     Terminating   0          2m41s
deployment-1-5c684d4858-dnmvs   1/1     Terminating   0          2m41s
deployment-1-5c684d4858-z6tg8   1/1     Terminating   0          2m41s
deployment-1-795ddd5c5b-d78k6   1/1     Running       0          1s
deployment-1-795ddd5c5b-dp9xj   1/1     Running       0          2s
deployment-1-795ddd5c5b-nx8t4   1/1     Running       0          4s
nginx                           1/1     Running       0          7m49s
redis                           1/1     Running       0          10m
replica-set-1-lwvcv             1/1     Running       0          5m55s
replica-set-1-s5ftc             1/1     Running       0          5m55s
replica-set-1-smjz2             1/1     Running       0          6m40s
replica-set-1-w29jb             1/1     Running       0          4m21s
replica-set-1-wqfmf             1/1     Running       0          6m40s
controlplane:~$ kubectl describe deployment deployment-1
Name:                   deployment-1
Namespace:              default
CreationTimestamp:      Sat, 19 Jul 2025 16:51:15 +0000
Labels:                 <none>
Annotations:            deployment.kubernetes.io/revision: 2
Selector:               app=busybox
Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=busybox
  Containers:
   busybox:
    Image:      nginx
    Port:       <none>
    Host Port:  <none>
    Command:
      sleep
      3600
    Environment:   <none>
    Mounts:        <none>
  Volumes:         <none>
  Node-Selectors:  <none>
  Tolerations:     <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  deployment-1-5c684d4858 (0/0 replicas created)
NewReplicaSet:   deployment-1-795ddd5c5b (3/3 replicas created)
Events:
  Type    Reason             Age    From                   Message
  ----    ------             ----   ----                   -------
  Normal  ScalingReplicaSet  3m16s  deployment-controller  Scaled up replica set deployment-1-5c684d4858 from 0 to 3
  Normal  ScalingReplicaSet  39s    deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 0 to 1
  Normal  ScalingReplicaSet  37s    deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 3 to 2
  Normal  ScalingReplicaSet  37s    deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 1 to 2
  Normal  ScalingReplicaSet  36s    deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 2 to 1
  Normal  ScalingReplicaSet  36s    deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 2 to 3
  Normal  ScalingReplicaSet  35s    deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 1 to 0
controlplane:~$ kubectl rollout undo deployment deployment-1
deployment.apps/deployment-1 rolled back
controlplane:~$ kubectl describe deployment deployment-1
Name:                   deployment-1
Namespace:              default
CreationTimestamp:      Sat, 19 Jul 2025 16:51:15 +0000
Labels:                 <none>
Annotations:            deployment.kubernetes.io/revision: 3
Selector:               app=busybox
Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=busybox
  Containers:
   busybox:
    Image:      busybox
    Port:       <none>
    Host Port:  <none>
    Command:
      sleep
      3600
    Environment:   <none>
    Mounts:        <none>
  Volumes:         <none>
  Node-Selectors:  <none>
  Tolerations:     <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  deployment-1-795ddd5c5b (0/0 replicas created)
NewReplicaSet:   deployment-1-5c684d4858 (3/3 replicas created)
Events:
  Type    Reason             Age                From                   Message
  ----    ------             ----               ----                   -------
  Normal  ScalingReplicaSet  4m25s              deployment-controller  Scaled up replica set deployment-1-5c684d4858 from 0 to 3
  Normal  ScalingReplicaSet  108s               deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 0 to 1
  Normal  ScalingReplicaSet  106s               deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 3 to 2
  Normal  ScalingReplicaSet  106s               deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 1 to 2
  Normal  ScalingReplicaSet  105s               deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 2 to 1
  Normal  ScalingReplicaSet  105s               deployment-controller  Scaled up replica set deployment-1-795ddd5c5b from 2 to 3
  Normal  ScalingReplicaSet  104s               deployment-controller  Scaled down replica set deployment-1-5c684d4858 from 1 to 0
  Normal  ScalingReplicaSet  16s                deployment-controller  Scaled up replica set deployment-1-5c684d4858 from 0 to 1
  Normal  ScalingReplicaSet  14s                deployment-controller  Scaled down replica set deployment-1-795ddd5c5b from 3 to 2
  Normal  ScalingReplicaSet  12s (x4 over 14s)  deployment-controller  (combined from similar events): Scaled down replica set deployment-1-795ddd5c5b from 1 to 0
controlplane:~$ nano nginx-deployment.yaml
controlplane:~$ kubectl apply -f nginx-deployment.yaml
deployment.apps/nginx-deployment created
controlplane:~$ kubectl get deployments
kubectl get pods
NAME               READY   UP-TO-DATE   AVAILABLE   AGE
deployment-1       3/3     3            3           5m13s
nginx-deployment   3/3     3            3           12s
NAME                                READY   STATUS    RESTARTS   AGE
deployment-1-5c684d4858-9zbz7       1/1     Running   0          61s
deployment-1-5c684d4858-dj8q7       1/1     Running   0          64s
deployment-1-5c684d4858-kmjgx       1/1     Running   0          62s
nginx                               1/1     Running   0          10m
nginx-deployment-69b966d577-pfpph   1/1     Running   0          12s
nginx-deployment-69b966d577-rl9xc   1/1     Running   0          12s
nginx-deployment-69b966d577-s6t27   1/1     Running   0          12s
redis                               1/1     Running   0          12m
replica-set-1-lwvcv                 1/1     Running   0          8m27s
replica-set-1-s5ftc                 1/1     Running   0          8m27s
replica-set-1-smjz2                 1/1     Running   0          9m12s
replica-set-1-w29jb                 1/1     Running   0          6m53s
replica-set-1-wqfmf                 1/1     Running   0          9m12s
controlplane:~$
